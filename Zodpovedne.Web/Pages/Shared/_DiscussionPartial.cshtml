@*
    Partial View pro zobrazení jedné diskuze v seznamu.
    Používá se jak pro počáteční vykreslení seznamu diskuzí, tak pro dynamicky načtené diskuze.

    Model: Instance DiscussionListDto obsahující data o diskuzi
*@
@model Zodpovedne.Contracts.DTO.DiscussionListDto
        <div class="card-diskuse me-2 kategorie-wrapper col-sm-12 col-xl-6"
             onmouseover="this.classList.add('shadow'); this.classList.add('bg-white');"
             onmouseout="this.classList.remove('shadow'); this.classList.remove('bg-white');">
                <div class="title-autor-wrapper">
                    <div class="title-wrapper">
                        <a href="/categories/@Model.CategoryCode/@Model.Code" class="text-decoration-none w-100">
                             <div class="card-title seznam-diskuse-title">
                                @* Zobrazení TOP badgu pro prioritní diskuze *@
                                @if (Model.Type == Zodpovedne.Contracts.Enums.DiscussionType.Top)
                                {
                                <span class="top-star">@*TOP*@
                                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="16" height="24">
                                        <!-- Pěticípá hvězda -->
                                        <path d="M12,2 L15.09,8.26 L22,9.27 L17,14.14 L18.18,21.02 L12,17.77 L5.82,21.02 L7,14.14 L2,9.27 L8.91,8.26 Z"
                                                fill="#FFB5B5"
                                                stroke="#e06f70"
                                                stroke-width="0.5" />

                                        <!-- Text TOP -->
                                        <text x="12" y="14"
                                                font-family="Arial, sans-serif"
                                                font-weight="bold"
                                                font-size="4.5"
                                                text-anchor="middle"
                                                fill="#d15657">TOP</text>
                                    </svg>
                                </span>
                                }
                                @* Odkaz na detail diskuze *@
                                <span class="seznam-diskusi-title-text"> @Model.Title</span>
                            </div>
                        </a>
                     </div>
                        <div class="popisky">
                            @* Autor *@
                            <div class="autor">
                                <span title="Autor">
                                    @Html.Raw("&nbsp;")
                                <i class="bi bi-person"></i> <a asp-page="/Account/Profile" asp-route-nickname="@Model.AuthorNickname">@Model.AuthorNickname</a>
                                    @Html.Raw("&nbsp;")
                                </span>
                            </div>
                        </div>
                </div>

                @* Metadata diskuze *@
                <div class="card-text text-muted popisky">

                    @* Datum vytvoření - převedené na lokální čas *@
                    <span title="Datum vytvoření">
                        <i class="bi bi-calendar-plus"></i> @Model.CreatedAt.ToLocalTime().ToString("dd.MM.yyyy")
                    </span>
                    @* Datum aktualizace - převedené na lokální čas *@
                    <span title="Datum aktualizace">
                        @if (Model.UpdatedAt.Date != Model.CreatedAt.Date)
                        {
                            @Html.Raw("&nbsp; | &nbsp;<i class=\"bi bi-pencil\"></i>")
                        }
                        @(Model.UpdatedAt.Date != Model.CreatedAt.Date ? Model.UpdatedAt.ToLocalTime().ToString("dd.MM.yyyy") : "")
                    </span>
                    <span class="mx-2">•</span>

                    @* Počet komentářů *@
                    <span title="Počet komentářů">
                        <i class="bi bi-chat"></i> @Model.CommentsCount
                    </span>
                    <span class="mx-2">•</span>
                    @* Počet zobrazení *@
                    <span title="Počet zobrazení">
                        <i class="bi bi-eye"></i> @Model.ViewCount
                    </span>
                </div>
  
        </div>